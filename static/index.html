<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>하루 한 개 질문 챌린지</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Jua&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'pastel-orange': '#FFB87A',
                    'pastel-coral': '#FF9B9B',
                    'pastel-yellow': '#FFE78A',
                    'pastel-green': '#8FE6B0',
                    'pastel-sky': '#8FC9F9',
                    'pastel-purple': '#C5B5E8',
                    'cream': '#FFFBF5',
                    'cream-dark': '#FFF3E0',
                    'txt': '#2D2424',
                    'txt-light': '#5C4E4E',
                    'txt-lighter': '#8E7E7E',
                },
                fontFamily: {
                    heading: ['"Jua"', 'sans-serif'],
                    body: ['"Gowun Dodum"', 'sans-serif'],
                }
            }
        }
    }
    </script>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body class="font-body bg-cream text-txt min-h-screen antialiased">
    <!-- Login Screen -->
    <div id="login-screen" class="screen">
        <div class="min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-[#FFF5EB] via-[#FFECD2] to-[#FFD8CC] relative overflow-hidden">
            <div class="text-center mb-7 relative">
                <p class="text-xs font-bold text-[#A04800] bg-[#FFE8CC] inline-block px-4 py-1 rounded-full mb-3 tracking-wide">대전원앙초등학교</p>
                <h1 class="text-4xl sm:text-5xl font-heading leading-tight text-[#D05A00] drop-shadow-[0_2px_4px_rgba(208,90,0,0.25)]">하루 한 개 질문<br>챌린지</h1>
                <p class="text-base text-txt-light mt-2 font-semibold">매일 하나의 질문으로 세상을 탐구해요!</p>
            </div>
            <form id="login-form" class="w-full max-w-[400px] bg-white p-7 rounded-2xl shadow-lg border-2 border-[#FFE0B2]">
                <div class="grid grid-cols-3 gap-3 mb-4">
                    <div>
                        <label for="grade" class="block text-sm font-bold text-txt-light mb-1.5">학년</label>
                        <select id="grade" required class="w-full px-3 py-3 border-2 border-[#FFE0B2] rounded-xl text-base font-body bg-[#FFFBF5] focus:outline-none focus:border-pastel-orange focus:ring-2 focus:ring-pastel-orange/20 transition">
                            <option value="">선택</option>
                            <option value="1">1학년</option>
                            <option value="2">2학년</option>
                            <option value="3">3학년</option>
                            <option value="4">4학년</option>
                            <option value="5">5학년</option>
                            <option value="6">6학년</option>
                        </select>
                    </div>
                    <div>
                        <label for="class_num" class="block text-sm font-bold text-txt-light mb-1.5">반</label>
                        <input type="number" id="class_num" min="1" max="20" placeholder="반" required class="w-full px-3 py-3 border-2 border-[#FFE0B2] rounded-xl text-base font-body bg-[#FFFBF5] focus:outline-none focus:border-pastel-orange focus:ring-2 focus:ring-pastel-orange/20 transition">
                    </div>
                    <div>
                        <label for="student_num" class="block text-sm font-bold text-txt-light mb-1.5">번호</label>
                        <input type="number" id="student_num" min="1" max="50" placeholder="번호" required class="w-full px-3 py-3 border-2 border-[#FFE0B2] rounded-xl text-base font-body bg-[#FFFBF5] focus:outline-none focus:border-pastel-orange focus:ring-2 focus:ring-pastel-orange/20 transition">
                    </div>
                </div>
                <div class="mb-4">
                    <label for="name" class="block text-sm font-bold text-txt-light mb-1.5">이름</label>
                    <input type="text" id="name" placeholder="이름을 입력하세요" required maxlength="10" class="w-full px-3.5 py-3 border-2 border-[#FFE0B2] rounded-xl text-base font-body bg-[#FFFBF5] focus:outline-none focus:border-pastel-orange focus:ring-2 focus:ring-pastel-orange/20 transition">
                </div>
                <div id="pin-section" class="mb-4" style="display:none">
                    <label id="pin-label" for="pin" class="block text-sm font-bold text-txt-light mb-1.5">비밀번호 (숫자 4자리)</label>
                    <input type="password" id="pin" inputmode="numeric" pattern="[0-9]{4}" maxlength="4" placeholder="숫자 4자리 입력" class="w-full px-3.5 py-3 border-2 border-[#FFE0B2] rounded-xl text-base font-body bg-[#FFFBF5] focus:outline-none focus:border-pastel-orange focus:ring-2 focus:ring-pastel-orange/20 transition">
                    <p id="pin-hint" class="text-xs text-txt-light mt-1.5 leading-snug"></p>
                </div>
                <button type="submit" id="login-btn" class="w-full py-3.5 text-lg font-heading bg-gradient-to-r from-pastel-orange to-pastel-coral text-white rounded-full shadow-md hover:-translate-y-0.5 hover:shadow-lg active:translate-y-0 transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                    다음
                </button>
            </form>
        </div>
    </div>

    <!-- Main Screen -->
    <div id="main-screen" class="screen" style="display:none">
        <!-- Header -->
        <header class="bg-gradient-to-r from-[#E08A50] to-[#D87070] sticky top-0 z-50 shadow-md">
            <div class="max-w-[600px] mx-auto px-4 py-3 flex items-center justify-between">
                <h1 class="font-heading text-lg text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.2)]">하루 한 개 질문</h1>
                <div class="flex items-center gap-2">
                    <span id="user-info" class="text-xs bg-white/30 px-2.5 py-1 rounded-full font-bold text-white drop-shadow-[0_1px_1px_rgba(0,0,0,0.15)]"></span>
                    <button id="home-btn" class="text-xs px-2.5 py-1 rounded-lg bg-white/30 border border-white/50 text-white font-bold whitespace-nowrap hover:bg-white/45 transition drop-shadow-[0_1px_1px_rgba(0,0,0,0.15)]">홈</button>
                    <a href="/hall" id="hall-link" class="text-xs px-2.5 py-1 rounded-lg bg-pastel-yellow text-[#6D4C00] font-bold whitespace-nowrap no-underline hover:scale-105 transition">명예의 전당</a>
                    <button id="logout-btn" class="text-xs px-2.5 py-1 rounded-lg bg-white/20 border border-white/50 text-white font-bold hover:bg-white/35 hover:border-white transition drop-shadow-[0_1px_1px_rgba(0,0,0,0.15)]">로그아웃</button>
                </div>
            </div>
        </header>

        <main class="max-w-[600px] mx-auto p-4">
            <!-- Today's Date Banner -->
            <div class="flex items-center justify-center gap-3 py-3 mb-3">
                <button id="prev-date" class="w-9 h-9 border-2 border-[#FFD0A0] bg-white rounded-full text-base font-bold text-txt-light flex items-center justify-center hover:border-pastel-orange hover:text-pastel-orange hover:bg-cream-dark transition disabled:opacity-30 disabled:cursor-not-allowed">&lt;</button>
                <div class="flex items-center gap-2 text-base font-bold text-txt">
                    <span id="current-date-text"></span>
                </div>
                <button id="next-date" class="w-9 h-9 border-2 border-[#FFD0A0] bg-white rounded-full text-base font-bold text-txt-light flex items-center justify-center hover:border-pastel-orange hover:text-pastel-orange hover:bg-cream-dark transition disabled:opacity-30 disabled:cursor-not-allowed">&gt;</button>
            </div>

            <!-- Topic Banner -->
            <div id="topic-banner" class="topic-banner relative rounded-2xl mb-4 overflow-hidden" style="display:none">
                <div class="relative z-10 px-5 py-4 text-center">
                    <div class="inline-block px-5 py-1 rounded-full bg-white/25 backdrop-blur-sm text-sm font-bold text-white tracking-widest mb-2 border border-white/30 shadow-sm">이번 시즌 주제</div>
                    <div id="topic-name" class="text-3xl sm:text-4xl font-heading font-bold text-white drop-shadow-[0_2px_6px_rgba(0,0,0,0.2)]"></div>
                </div>
            </div>

            <!-- Question Form -->
            <div id="question-form-container" class="bg-gradient-to-br from-[#FFFDE7] to-[#FFF9C4] border-2 border-pastel-yellow rounded-2xl shadow-lg p-5 mb-4" style="box-shadow: 0 6px 20px rgba(255,231,138,0.35), 0 2px 8px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.6);">
                <div class="text-lg font-heading font-bold mb-3 text-txt">오늘의 질문을 올려보세요!</div>
                <form id="question-form">
                    <div class="relative">
                        <textarea id="question-content" placeholder="궁금한 것이 있나요? 어떤 질문이든 좋아요!" maxlength="200" rows="3" class="w-full p-3.5 border-2 border-[#FFE0B2] rounded-xl text-base font-body resize-none bg-white focus:outline-none focus:border-pastel-orange focus:ring-2 focus:ring-pastel-orange/15 transition" style="box-shadow: inset 0 2px 4px rgba(0,0,0,0.06), 0 1px 0 rgba(255,255,255,0.8);"></textarea>
                        <span id="char-count" class="absolute bottom-2.5 right-3 text-xs text-txt-lighter">0/200</span>
                    </div>
                    <button type="submit" class="w-full mt-2 py-3 text-base font-heading bg-gradient-to-r from-pastel-orange to-pastel-coral text-white rounded-full hover:-translate-y-0.5 active:translate-y-0 transition-all" style="box-shadow: 0 4px 15px rgba(255,155,155,0.4), 0 2px 6px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.25);">
                        질문 올리기
                    </button>
                </form>
            </div>

            <div id="already-posted" class="bg-gradient-to-br from-[#E8F5E9] to-[#C8E6C9] border-2 border-pastel-green rounded-2xl shadow-md p-5 mb-4 text-center" style="display:none">
                <div class="w-12 h-12 mx-auto mb-2 rounded-full bg-pastel-green flex items-center justify-center text-white text-2xl font-heading">V</div>
                <p class="font-bold text-base">오늘의 질문을 이미 올렸어요!</p>
                <p class="text-sm text-txt-light mt-1">내일 또 멋진 질문을 기대할게요!</p>
            </div>

            <!-- Sort Buttons -->
            <div class="flex items-center gap-2 mb-3 flex-wrap">
                <span class="text-base font-heading font-bold">질문 목록</span>
                <span id="question-count" class="text-xs bg-cream-dark text-[#A04800] px-3 py-0.5 rounded-full font-bold">0개</span>
                <div class="ml-auto flex gap-1">
                    <button class="sort-btn px-3.5 py-1.5 border-2 border-[#FFD0A0] bg-white rounded-full text-sm font-semibold font-body text-txt-light hover:border-pastel-orange hover:text-pastel-orange transition active" data-sort="latest">최신순</button>
                    <button class="sort-btn px-3.5 py-1.5 border-2 border-[#FFD0A0] bg-white rounded-full text-sm font-semibold font-body text-txt-light hover:border-pastel-orange hover:text-pastel-orange transition" data-sort="likes">인기순</button>
                </div>
            </div>

            <!-- Questions List -->
            <div id="questions-list" class="flex flex-col gap-3">
                <!-- Questions will be inserted here -->
            </div>

            <div id="empty-state" class="text-center py-12 px-5" style="display:none">
                <div class="text-5xl font-heading text-pastel-orange mb-3">?</div>
                <p class="text-base font-bold text-txt-light">아직 질문이 없어요</p>
                <p class="text-sm text-txt-lighter mt-1">첫 번째 질문의 주인공이 되어보세요!</p>
            </div>

            <!-- Past Dates -->
            <div class="mt-6 pb-10">
                <button id="toggle-dates" class="w-full py-3 bg-transparent border-2 border-[#E0D0C0] rounded-xl text-sm font-bold font-body text-txt-light hover:border-pastel-orange hover:text-pastel-orange transition">
                    지난 질문 보기
                </button>
                <div id="dates-list" class="mt-3 flex flex-col gap-1.5" style="display:none"></div>
            </div>
        </main>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast"></div>

    <script src="/static/js/app.js"></script>
</body>
</html>
